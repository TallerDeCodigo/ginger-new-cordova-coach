$(window).on("load resize",function(){var t=$("#inferior1 a").first().html(),e=$("#inferior1 a").first().attr("href"),s=$("#inferior1 a:nth-child(2)").html(),a=$("#inferior1 a:nth-child(2)").attr("href"),i=$("#inferior1 a:nth-child(3)").html(),o=$("#inferior1 a:nth-child(3)").attr("href");if($(".fotos").each(function(){"superior1"!=$(this).attr("id")&&$(this).find("a").length<4&&(3==$(this).find("a").length&&$(this).append('<a class="small link" href="'+e+'">'+t+"</a>"),2==$(this).find("a").length&&$(this).append('<a class="small link" href="'+a+'">'+s+'</a> <a class="small link" href="'+o+'">'+i+"</a>"),1==$(this).find("a").length&&$(this).append('<a class="small link" href="'+e+'">'+t+'</a> <a class="small link" href="'+a+'">'+s+'</a> <a class="small link" href="'+o+'">'+i+"</a>"))}),$(".section").each(function(){if("section1"!=$(this).attr("id")&&$(this).find("a").length<7&&((3==$(this).find("a").length||7==$(this).find("a").length)&&$(this).append('<a class="replica sml" href="'+e+'"></a>'),(2==$(this).find("a").length||6==$(this).find("a").length)&&$(this).append('<a class="replica sml" href="'+a+'"></a><a class="replica sml" href="'+o+'"></a>'),(1==$(this).find("a").length||5==$(this).find("a").length)&&$(this).append('<a class="replica sml" href="'+e+'"></a><a class="replica sml" href="'+a+'"></a><a class="replica sml" href="'+o+'"></a>')),4==$(this).find("a").length){var t=$("#section1").html();t=t.substring(t.indexOf("</a>")+4),$(this).append(t)}}),$(".abajo").length<$(".arriba").length){var n=$("#inferior1").html();$("#static").append('<div id="inferior'+$(".arriba").length+'" class="abajo fotos">'+n+"</div>")}var r=window.location.href,c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,d=l-156+"px",p=l-104+"px",h=l-104+"px";$("#principalf").css("height",c),$("#static").css("height",h),$(".pages").css("height",d),$(".upload_options").css("height",p),$(".pages.search_results").css("height",h),$(".pages.not_that_much").css("height",h),$(".pagina").css("height",d);var f=$(".actions").length;f+=" ITEMS",$("#items").html(f),r=r.substring(r.indexOf("=")+1);r="images/"+r+".png",$(".define").attr("src",r);var u=($(".cats").length,0);$(".cats").each(function(){u+=$(this).width(),u+=20}),$("#swipper div").css("width",u);var m=$(".bigg").height();$(".grd").css("height",m);var g=$(".abajo a").height();$(".sml").css("height",g),500>l?$(".footer").css("bottom","-150px"):$(".footer").css("bottom","0px")}),$(window).load(function(){$(function(){$("#account1").click(function(){$(".wrapper").show(),setTimeout(function(){$("#user").animate({right:"0%"},300)},10)}),$(".separate").click(function(){$("#user").animate({right:"-85%"},300),setTimeout(function(){$(".wrapper").hide()},300)}),$(".element").click(function(){"0px"!=$(this).css("left")&&$(this).animate({left:"0px"},200)}),$.fn.digits=function(){return this.each(function(){$(this).text($(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))})},$(".mas").click(function(){var t=parseInt($(this).parent().find(".cantidad").html(),10),e=parseInt($(this).parent().find(".cantis").html().replace(/,/g,""),10);e=e/t*(t+1),++t,$(this).parent().find(".cantidad").html(t),$(this).parent().find(".cantis").html(e),$(this).parent().find(".cantis").digits()}),$(".menos").click(function(){var t=parseInt($(this).parent().find(".cantidad").html(),10),e=parseInt($(this).parent().find(".cantis").html().replace(/,/g,""),10);e=e/t*(t-1),--t,0>=t?$(this).parent().animate({left:"-75px"},200):($(this).parent().find(".cantidad").html(t),$(this).parent().find(".cantis").html(e),$(this).parent().find(".cantis").digits())}),$(".close").click(function(){$(this).parent().animate({left:"-75px"},200)}),$(".fotel").click(function(){$(this).parent().animate({left:"75px"},200)}),$(".right").click(function(){$(this).parent().remove();var t=$(".actions").length;t+=" ITEMS",$("#items").html(t)}),$(".shipp").click(function(){$(".shipp i").html("panorama_fish_eye"),$(this).find("i").html("adjust")}),$(".paym").click(function(){$(".paym i").html("panorama_fish_eye"),$(this).find("i").html("adjust")}),$(".bots").click(function(){$(".bots").removeClass("active"),$(this).addClass("active"),"gallery"==$(this).data("source")}),$(".cats").click(function(){var t=$(this).data("id");if($(".cats").removeClass("select"),$(this).addClass("select"),$(".submenus").hide(),$("#subcats"+t).find(".sucats").length&&"none"!=$("#barra").css("display"))$("#photo-btn").hide(),$("#no-cat").hide(),$("#barra").hide(),$(".sucats").removeClass("select"),$("#subcats a").first().addClass("select"),$("#swipper").animate({top:"-50px"},200),setTimeout(function(){if($("#subcats"+t).show(),$("#subcats"+t).find(".sucats").length>2){$("#subcats"+t).find(".swipper1 div").addClass("scrolleado");var e=0;$("#subcats"+t).find(".sucats").each(function(){e+=$(this).outerWidth(),e+=3.5}),console.log("ancho-sin: "+e+"ancho-tot: "+$("#subcats"+t).find(".swipper1").width()),e+30>$("#subcats"+t).find(".swipper1").width()?$("#subcats"+t).find(".scrolleado").css("width",e):$("#subcats"+t).find(".swipper1 div").removeClass("scrolleado")}},200),$("#subcats"+t).find(".swipper1").scrollLeft("0px"),$("#subcats"+t).find(".swipper1 div .sucats:first-of-type").trigger("click");else if($("#subcats"+t).find(".sucats").length&&"none"==$("#barra").css("display")){if($("#subcats"+t).show(),$("#subcats"+t).find(".sucats").length>2){$("#subcats"+t).find(".swipper1 div").addClass("scrolleado");var e=0;$("#subcats"+t).find(".sucats").each(function(){e+=$(this).outerWidth(),e+=3.5}),console.log("ancho-sin: "+e+"ancho-tot: "+$("#subcats"+t).find(".swipper1").width()),e+30>$("#subcats"+t).find(".swipper1").width()?$("#subcats"+t).find(".scrolleado").css("width",e):$("#subcats"+t).find(".swipper1 div").removeClass("scrolleado")}$("#subcats"+t).find(".swipper1").scrollLeft("0px"),$("#subcats"+t).find(".swipper1 div .sucats:first-of-type").trigger("click")}else 0==$("#subcats"+t).find(".sucats").length&&"none"==$("#barra").css("display")&&($("#swipper").animate({top:"0px"},200),$(".sucats").removeClass("select"),setTimeout(function(){$("#no-cat").show(),$("#barra").show(),$("#photo-btn").show()},150))}),$(".cats1").click(function(){$(".cats1").removeClass("select"),$(this).addClass("select")}),$(".sucats").click(function(){app.showLoader(),$(".sucats").removeClass("select"),$(this).addClass("select"),app.render_taxonomy($(this).data("id"),"category",".inject","search-composite-page")}),$("#check").click(function(){var t=0;$(".mas").hide(),$(".menos").hide(),$(".close").hide(),$(".cuenta").show(),$(".detalles").show(),$(".cantis").each(function(){var e=parseInt($(this).html().replace(/,/g,""),10);t+=e}),$("#sumar").html(t),$("#sumar").digits()}),$("#items").click(function(){$(".mas").show(),$(".menos").show(),$(".close").show(),$(".cuenta").hide(),$(".detalles").hide()}),$(".return").click(function(){$(".submenus").hide(),$("#swipper").animate({top:"0px"},200),$(".cats").removeClass("select"),$(".sucats").removeClass("select"),setTimeout(function(){$("#no-cat").show(),$("#barra").show(),$("#photo-btn").show()},150)}),$("#primero").click(function(){var t='<a href="#">Lorem</a><a href="#">Ipsum</a><a href="#">Dolor</a><a href="#">Sit</a><a href="#">Amet</a><a href="#">Consectetur</a><a href="#">Adipiscing</a>';$("#dashboard1").append(t),$("#dashboard1 a").addClass("choosed")}),$(".techBtn").click(function(){var t=$("#technical").position().top;$("body").animate({scrollTop:t-50},400)}),$("#add_photo_appear").on("click",function(){$(".upload_options").fadeIn().removeClass("hidden")}),$(".close_on_touch").on("click",function(t){$(t.target).hasClass("dont_close")||$(this).fadeOut().addClass("hidden")})})}),$("#login_form").submit(function(t){app.showLoader(),t.preventDefault();var e=app.getFormData("#login_form"),s=apiRH.loginNative(e);return s?(console.log(s),apiRH.save_user_data_clientside(s),void window.location.assign("feed.html")):void app.toast("Tu email o contraseña no son válidos.")}),$(document).on("click",".login_button",function(){var t=$(this).data("provider");"facebook"==t&&apiRH.loginOauth(t,apiRH.loginCallbackFB),"google"==t&&apiRH.loginOauth(t,apiRH.loginCallbackGP)}),$("#create_account_form").submit(function(t){t.preventDefault(),app.showLoader();var e=app.getFormData("#create_account_form"),s=apiRH.registerNative(e);return s?(app.toast("Welcome to 3Dedalo"),apiRH.save_user_data_clientside(s),window.location.assign("feed.html?filter_feed=all"),void app.hideLoader()):void app.toast("Sorry, we couldn't create your account, please try again.")}),$("#further_search #send_form").on("click",function(t){t.preventDefault(),app.showLoader();var e=app.getFormData("#further_search");console.log("Further search"+JSON.stringify(e)),app.toast("Uploading files to server..."),apiRH.initializeSearchFileTransfer(e)}),$(document).on("click",".follow_category",function(t){t.preventDefault();var e=$(this),s=$(this).data("id"),a=apiRH.makeRequest(user+"/categories/follow/",{cat_id:s});return t.stopPropagation(),a.success?(t.stopPropagation(),e.removeClass("follow_category").addClass("unfollow_category choosed"),app.toast("Category followed")):app.toast("Oops! something happened")}),$(document).on("click",".unfollow_category",function(t){t.preventDefault();var e=$(this),s=$(this).data("id"),a=apiRH.makeRequest(user+"/categories/unfollow/",{cat_id:s});return t.stopPropagation(),a.success?(t.stopPropagation(),e.removeClass("unfollow_category choosed").addClass("follow_category"),app.toast("Category unfollowed")):app.toast("Oops! something happened")}),$("body").on("click",".follow_user",function(){var t=$(this).data("id"),e=apiRH.makeRequest(user+"/follow",{user_id:t});return e.success?($(this).removeClass("follow_user").addClass("unfollow_user following"),void app.toast("You are now following this maker")):void 0}),$("body").on("click",".unfollow_user",function(){var t=$(this).data("id"),e=apiRH.makeRequest(user+"/unfollow",{user_id:t});return e.success?void $(this).removeClass("unfollow_user following").addClass("follow_user"):void 0}),$("#get_pic_gallery").on("click",function(t){app.get_file_from_device("search","gallery")}),$("#get_pic_camera").on("click",function(t){app.get_file_from_device("search","camera")}),$("#settings_form").length&&(window.printer={},window.scanner={},window.printer.justmodified=!1,window.scanner.justmodified=!1,$("body").on("submit","#settings_form",function(t){t.preventDefault();var e=app.getFormData("#settings_form");(e.become_printer||e.become_scanner)&&(e.just_modified=window.printer.justmodified||window.scanner.justmodified?!0:!1,console.log(e),e.just_modified&&app.toast("Please set the location of your printing device"));var s=apiRH.makeRequest("user/"+user+"/",e);s.success&&app.toast("Profile updated successfully")}),$("#become_printer").on("click",function(){if($("#become_printer").prop("checked")){var t=$(this).parent().siblings(".form_part");return t.removeClass("hidden"),void(window.printer.justmodified=!0)}$(this).parent().siblings(".form_part").addClass("hidden")}),$("#printer_brand").on("change",function(){var t=$("#printer_brand option:selected").text(),e=Object.keys(window.printers_global[t]).length,s="";s+="<option value=''>Model</option>";for(var a=0;e>a;a++){var i=window.printers_global[t][a];s+="<option value='"+a+"'>"+i+"</option>"}$("#printer_model").html(s)}),$("#locate_new_printer").on("click",function(){console.log("locate new printer"),app.showLoader(),app.locate_printer_here()}),$("#become_scanner").on("click",function(){if($("#become_scanner").prop("checked")){var t=$(this).parent().siblings(".form_part");return t.removeClass("hidden"),void(window.scanner.justmodified=!0)}$(this).parent().siblings(".form_part").addClass("hidden")})),$("#save_password").length&&$("body").on("submit","#save_password",function(t){t.preventDefault();var e=app.getFormData("#save_password");if(e.user_pwd&&""!==e.user_pwd){if(e.user_pwd==e.user_rpt_pwd){var s=apiRH.makeRequest("user/"+user+"/password/",e);return console.log(s),s.success?void app.toast("Password changed successfully"):(app.toast("Sorry, There was an error saving your password"),!1)}app.toast("Both passwords must match!")}});